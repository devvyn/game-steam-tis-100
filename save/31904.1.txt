@0
##MIN NODES

@1
# RATE LIMITER
MOV UP, DOWN
MOV 2, ACC
NOPLOOP:
SUB 1
NOP
JNZ NOPLOOP

@2


@3


@4
# BACKFLOW BUFFER
MOV ANY, ACC
MOV ACC, DOWN

@5


@6


@7


@8
# CLONE
START:SWP
MOV UP, ACC
MOV ACC, RIGHT

# SUM TIL 0
JEZ TERMINATE
MOV ACC, UP
SWP
ADD UP
JMP START
TERMINATE:
SWP
MOV ACC, DOWN
MOV NIL, ACC

@9
# COUNT TIL 0
START: SWP
MOV LEFT, ACC
JEZ TERMINATE
SWP
ADD 1
JMP START
TERMINATE:
SWP
MOV ACC, DOWN
MOV NIL, ACC

@10

